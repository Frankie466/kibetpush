<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#0a0e17">
    <meta name="msapplication-TileColor" content="#3ecf8e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Starlink Kenya">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Manifest -->
    <link rel="manifest" href="/manifest.json" crossorigin="use-credentials">
    
    <!-- Icons for PWA -->
    <link rel="icon" type="image/png" sizes="192x192" href="/static/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/static/icons/icon-512x512.png">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/static/icons/icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/icon-180x180.png">
    <link rel="apple-touch-icon" sizes="167x167" href="/static/icons/icon-167x167.png">
    
    <title>Starlink Kenya - Satellite Internet Payments</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Orbitron:wght@400;500;700;800&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0a0e17 0%, #1a1f2e 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
            overflow-x: hidden;
            position: relative;
        }

        /* Safe area for iPhone notch in standalone mode */
        @supports (padding-top: env(safe-area-inset-top)) {
            body.standalone-mode {
                padding-top: calc(20px + env(safe-area-inset-top));
                padding-bottom: env(safe-area-inset-bottom);
                padding-left: env(safe-area-inset-left);
                padding-right: env(safe-area-inset-right);
            }
        }

        /* PWA Install Prompt */
        .pwa-install-prompt {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(16, 24, 39, 0.95);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(62, 207, 142, 0.4);
            border-radius: 20px;
            padding: 20px;
            max-width: 400px;
            width: 90%;
            z-index: 10000;
            display: none;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            animation: slideUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .pwa-install-prompt.show {
            display: block;
        }

        .pwa-prompt-content {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .pwa-prompt-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #3ecf8e 0%, #2a9d8f 100%);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            flex-shrink: 0;
        }

        .pwa-prompt-text {
            flex: 1;
        }

        .pwa-prompt-text h3 {
            color: #3ecf8e;
            font-size: 18px;
            margin-bottom: 5px;
            font-family: 'Orbitron', sans-serif;
        }

        .pwa-prompt-text p {
            color: #94a3b8;
            font-size: 14px;
            line-height: 1.4;
        }

        .pwa-prompt-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .pwa-install-btn {
            flex: 1;
            background: linear-gradient(135deg, #3ecf8e 0%, #2a9d8f 100%);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }

        .pwa-install-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(62, 207, 142, 0.4);
        }

        .pwa-cancel-btn {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            color: #94a3b8;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 12px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }

        .pwa-cancel-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .pwa-prompt-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #94a3b8;
            font-size: 20px;
            cursor: pointer;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .pwa-prompt-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        /* Install badge styling */
        .install-badge {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(62, 207, 142, 0.2);
            border: 2px solid #3ecf8e;
            border-radius: 50px;
            padding: 8px 16px;
            font-size: 12px;
            color: #3ecf8e;
            display: none;
            align-items: center;
            gap: 8px;
            backdrop-filter: blur(10px);
            z-index: 9999;
            animation: fadeIn 0.5s ease-out;
        }

        /* Space Background with Stars */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(2px 2px at 20px 30px, #eee, transparent),
                radial-gradient(3px 3px at 40px 70px, #3ecf8e, transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(2px 2px at 130px 80px, #fff, transparent),
                radial-gradient(3px 3px at 160px 120px, #eee, transparent),
                radial-gradient(1.5px 1.5px at 200px 150px, #3ecf8e, transparent);
            z-index: -2;
            animation: twinkle 8s infinite alternate;
        }

        /* Animated Stars */
        .star {
            position: fixed;
            background-color: white;
            border-radius: 50%;
            z-index: -1;
        }

        .star.small { width: 1px; height: 1px; }
        .star.medium { width: 2px; height: 2px; }
        .star.large { width: 3px; height: 3px; }

        /* Floating Moon */
        .moon {
            position: fixed;
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #f5f3ce 0%, #d4d1b8 100%);
            border-radius: 50%;
            top: 10%;
            right: 10%;
            box-shadow: 
                0 0 60px rgba(245, 243, 206, 0.4),
                0 0 120px rgba(245, 243, 206, 0.2),
                inset -15px -15px 30px rgba(0,0,0,0.2);
            z-index: -1;
            animation: floatMoon 20s ease-in-out infinite;
        }

        .moon::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            background: rgba(0,0,0,0.1);
            border-radius: 50%;
            top: 30px;
            left: 20px;
            box-shadow: 
                15px 15px 0 rgba(0,0,0,0.1),
                40px 10px 0 rgba(0,0,0,0.1),
                25px 40px 0 rgba(0,0,0,0.1);
        }

        /* Satellite Animation */
        .satellite {
            position: fixed;
            width: 40px;
            height: 20px;
            background: #3a506b;
            border-radius: 10px;
            top: 30%;
            left: -50px;
            z-index: -1;
            animation: orbit 25s linear infinite;
            box-shadow: 0 0 10px rgba(0,150,255,0.5);
        }

        .satellite::before {
            content: '';
            position: absolute;
            width: 10px;
            height: 40px;
            background: #3a506b;
            border-radius: 5px;
            top: -10px;
            left: 15px;
        }

        .satellite::after {
            content: 'üì°';
            position: absolute;
            font-size: 12px;
            right: 5px;
            top: 2px;
        }

        /* Comet Animation */
        .comet {
            position: fixed;
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #3ecf8e, transparent);
            transform: rotate(-45deg);
            z-index: -1;
            opacity: 0;
            animation: cometFly 15s linear infinite;
        }

        /* Container */
        .container {
            max-width: 550px;
            background: rgba(16, 24, 39, 0.85);
            backdrop-filter: blur(15px);
            padding: 40px 30px;
            margin: auto;
            border-radius: 30px;
            box-shadow: 
                0 25px 80px rgba(0, 0, 0, 0.6),
                0 0 0 1px rgba(62, 207, 142, 0.15),
                inset 0 0 40px rgba(62, 207, 142, 0.08);
            animation: floatIn 1s ease-out;
            position: relative;
            z-index: 1;
            border: 1px solid rgba(62, 207, 142, 0.25);
        }

        /* Header */
        .header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
        }

        .header-icon {
            font-size: 40px;
            color: #3ecf8e;
            animation: pulse 3s infinite;
        }

        /* Title with Glow Effect */
        h2 {
            color: #3ecf8e;
            font-family: 'Orbitron', sans-serif;
            font-weight: 800;
            margin-bottom: 10px;
            letter-spacing: 2px;
            text-transform: uppercase;
            position: relative;
            font-size: 32px;
            text-shadow: 0 0 25px rgba(62, 207, 142, 0.7);
        }

        .subtitle {
            color: #94a3b8;
            font-size: 16px;
            margin-bottom: 35px;
            letter-spacing: 1px;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 4px;
            background: linear-gradient(90deg, transparent, #3ecf8e, transparent);
            border-radius: 2px;
            box-shadow: 0 0 15px rgba(62, 207, 142, 0.5);
        }

        /* Plan Toggle */
        .plan-toggle {
            display: flex;
            background: rgba(30, 41, 59, 0.8);
            border-radius: 15px;
            padding: 5px;
            margin-bottom: 30px;
            border: 1px solid rgba(62, 207, 142, 0.2);
        }

        .toggle-btn {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            color: #94a3b8;
            font-weight: 600;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.3s;
            font-family: 'Poppins', sans-serif;
        }

        .toggle-btn.active {
            background: linear-gradient(135deg, #3ecf8e 0%, #2a9d8f 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(62, 207, 142, 0.3);
        }

        /* Packages Grid */
        .packages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .package-card {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.9), rgba(16, 24, 39, 0.9));
            border-radius: 20px;
            padding: 25px 20px;
            border: 2px solid rgba(62, 207, 142, 0.15);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .package-card:hover {
            transform: translateY(-8px);
            border-color: rgba(62, 207, 142, 0.5);
            box-shadow: 
                0 15px 40px rgba(62, 207, 142, 0.2),
                0 0 0 1px rgba(62, 207, 142, 0.3);
        }

        .package-card.popular {
            border-color: #3ecf8e;
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.95), rgba(16, 24, 39, 0.95));
            transform: scale(1.02);
        }

        .package-card.popular::before {
            content: 'MOST POPULAR';
            position: absolute;
            top: 15px;
            right: -35px;
            background: #3ecf8e;
            color: white;
            padding: 5px 40px;
            transform: rotate(45deg);
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .package-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: #3ecf8e;
        }

        .package-name {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 10px;
            color: white;
        }

        .package-duration {
            color: #6ee7b7;
            font-size: 14px;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 1px;
        }

        .package-features {
            text-align: left;
            margin: 15px 0;
            padding: 0 10px;
        }

        .feature {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 14px;
            color: #cbd5e1;
        }

        .feature i {
            color: #3ecf8e;
            margin-right: 10px;
            font-size: 12px;
        }

        .package-price {
            font-size: 36px;
            font-weight: 800;
            color: #3ecf8e;
            margin: 20px 0 10px;
            text-shadow: 0 0 20px rgba(62, 207, 142, 0.5);
        }

        .package-price span {
            font-size: 16px;
            color: #94a3b8;
            font-weight: 500;
        }

        .select-btn {
            background: linear-gradient(135deg, #3ecf8e 0%, #2a9d8f 100%);
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            font-family: 'Poppins', sans-serif;
            letter-spacing: 1px;
            margin-top: 10px;
        }

        .select-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(62, 207, 142, 0.4);
        }

        /* Read More */
        .read-more {
            color: #6ee7b7;
            cursor: pointer;
            margin: 25px 0;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            padding: 12px 20px;
            border-radius: 12px;
            background: rgba(62, 207, 142, 0.1);
        }

        .read-more:hover {
            color: #a7f3d0;
            background: rgba(62, 207, 142, 0.2);
            transform: translateY(-2px);
        }

        .read-more i {
            transition: transform 0.3s;
        }

        /* Description */
        .description {
            display: none;
            background: rgba(30, 41, 59, 0.9);
            padding: 30px;
            margin-top: 20px;
            border-radius: 20px;
            text-align: left;
            font-size: 15px;
            line-height: 1.8;
            border-left: 5px solid #3ecf8e;
            animation: slideDown 0.5s ease-out;
        }

        .description strong {
            color: #6ee7b7;
            display: block;
            margin-bottom: 15px;
            font-size: 18px;
        }

        /* Payment Status */
        #payment-status {
            display: none;
            background: rgba(16, 24, 39, 0.95);
            padding: 40px;
            border-radius: 25px;
            margin-top: 30px;
            animation: expandIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid rgba(62, 207, 142, 0.4);
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        #payment-status::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3ecf8e, #2a9d8f);
            animation: progressBar 3s linear infinite;
        }

        #success-tick {
            font-size: 60px;
            color: #3ecf8e;
            margin-bottom: 25px;
            display: block;
            animation: bounceIn 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            text-shadow: 0 0 40px rgba(62, 207, 142, 0.8);
        }

        #status-message {
            font-size: 28px;
            font-weight: 700;
            margin: 20px 0;
            color: #a7f3d0;
        }

        #instruction-message {
            font-size: 18px;
            line-height: 1.7;
            color: #cbd5e1;
            margin-bottom: 30px;
        }

        #ok-button {
            background: linear-gradient(135deg, #3ecf8e 0%, #2a9d8f 100%);
            padding: 16px 40px;
            border: none;
            color: white;
            border-radius: 15px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(62, 207, 142, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 0 auto;
        }

        #ok-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(62, 207, 142, 0.6);
        }

        /* Footer */
        .footer {
            margin-top: 40px;
            font-size: 14px;
            color: #94a3b8;
            padding: 25px;
            background: rgba(16, 24, 39, 0.7);
            border-radius: 20px;
            max-width: 550px;
            margin-left: auto;
            margin-right: auto;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(62, 207, 142, 0.15);
        }

        .footer a {
            color: #3ecf8e;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .footer a:hover {
            color: #6ee7b7;
            text-shadow: 0 0 15px rgba(62, 207, 142, 0.5);
        }

        .security-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            font-size: 13px;
        }

        /* Animations */
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        @keyframes floatMoon {
            0%, 100% { 
                transform: translate(0, 0) rotate(0deg); 
                box-shadow: 
                    0 0 60px rgba(245, 243, 206, 0.4),
                    0 0 120px rgba(245, 243, 206, 0.2);
            }
            25% { 
                transform: translate(-15px, 20px) rotate(2deg);
                box-shadow: 
                    0 0 80px rgba(245, 243, 206, 0.5),
                    0 0 150px rgba(245, 243, 206, 0.3);
            }
            50% { 
                transform: translate(10px, -15px) rotate(-1deg); 
            }
            75% { 
                transform: translate(20px, 10px) rotate(1deg); 
            }
        }

        @keyframes orbit {
            0% { 
                transform: rotate(0deg) translateX(250px) rotate(0deg); 
            }
            100% { 
                transform: rotate(360deg) translateX(250px) rotate(-360deg); 
            }
        }

        @keyframes cometFly {
            0% {
                left: -100px;
                top: 50vh;
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                left: 100vw;
                top: 10vh;
                opacity: 0;
            }
        }

        @keyframes floatIn {
            from { 
                opacity: 0; 
                transform: translateY(40px) scale(0.9); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        @keyframes slideDown {
            from { 
                opacity: 0; 
                max-height: 0; 
                transform: translateY(-15px); 
            }
            to { 
                opacity: 1; 
                max-height: 500px; 
                transform: translateY(0); 
            }
        }

        @keyframes expandIn {
            from { 
                opacity: 0; 
                transform: scale(0.8); 
            }
            to { 
                opacity: 1; 
                transform: scale(1); 
            }
        }

        @keyframes bounceIn {
            0% { 
                opacity: 0; 
                transform: scale(0.3); 
            }
            50% { 
                opacity: 1; 
                transform: scale(1.1); 
            }
            70% { 
                transform: scale(0.95); 
            }
            100% { 
                transform: scale(1); 
            }
        }

        @keyframes progressBar {
            0% { transform: translateX(-100%); }
            50% { transform: translateX(0); }
            100% { transform: translateX(100%); }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 30px 20px;
                margin: 10px;
                max-width: 95%;
            }

            h2 {
                font-size: 26px;
            }

            .packages-grid {
                grid-template-columns: 1fr;
            }

            .package-card.popular::before {
                right: -30px;
                font-size: 10px;
                padding: 4px 35px;
            }

            .moon {
                width: 80px;
                height: 80px;
                right: 5%;
                top: 5%;
            }

            .satellite {
                display: none;
            }

            .pwa-install-prompt {
                max-width: 90%;
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            .container {
                padding: 25px 15px;
            }

            h2 {
                font-size: 22px;
            }

            .package-price {
                font-size: 32px;
            }

            .header {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>

    <script>
        // Create stars
        function createStars() {
            const starsContainer = document.createElement('div');
            starsContainer.id = 'stars';
            document.body.appendChild(starsContainer);

            for (let i = 0; i < 200; i++) {
                const star = document.createElement('div');
                const size = Math.random() * 3;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                star.className = `star ${size < 1 ? 'small' : size < 2 ? 'medium' : 'large'}`;
                star.style.left = `${x}vw`;
                star.style.top = `${y}vh`;
                star.style.opacity = Math.random() * 0.8 + 0.2;
                
                starsContainer.appendChild(star);
            }
        }

        // Create comets
        function createComets() {
            for (let i = 0; i < 3; i++) {
                const comet = document.createElement('div');
                comet.className = 'comet';
                comet.style.left = `${Math.random() * 50}%`;
                comet.style.top = `${Math.random() * 50}%`;
                comet.style.animationDelay = `${Math.random() * 15}s`;
                document.body.appendChild(comet);
            }
        }

        // Initialize when page loads
        window.addEventListener('DOMContentLoaded', () => {
            createStars();
            createComets();
            // Show data packages by default
            showPackages('data');
            
            // Initialize description as hidden
            document.getElementById("description").style.display = "none";
            
            // Check if app is running in standalone mode
            if (window.matchMedia('(display-mode: standalone)').matches) {
                console.log('üì± Running in standalone PWA mode');
                document.body.classList.add('standalone-mode');
                const installBadge = document.querySelector('.install-badge');
                if (installBadge) {
                    installBadge.style.display = 'flex';
                }
            }
        });
    </script>
</head>
<body>

    <!-- Moon -->
    <div class="moon"></div>
    
    <!-- Install Badge -->
    <div class="install-badge">
        <i class="fas fa-mobile-alt"></i>
        <span>Installed App</span>
    </div>

    <!-- Satellite -->
    <div class="satellite"></div>

    <!-- Main Container -->
    <div class="container">
        <div class="header">
            <div class="header-icon">üõ∞Ô∏è</div>
            <div>
                <h2>Starlink Kenya</h2>
                <p class="subtitle">High-Speed Satellite Internet Powered by SpaceX</p>
            </div>
        </div>

        <!-- Plan Toggle -->
        <div class="plan-toggle">
            <button class="toggle-btn active" onclick="showPackages('data')">Data Plans</button>
            <button class="toggle-btn" onclick="showPackages('monthly')">Monthly Plans</button>
            <button class="toggle-btn" onclick="showPackages('business')">Business Plans</button>
        </div>

        <!-- Packages Grid -->
        <div id="packages-container">
            <!-- Data Plans (Default) -->
            <div class="packages-grid" id="data-packages">
                <!-- Original 3 Packages -->
                <div class="package-card">
                    <div class="package-icon">üåê</div>
                    <div class="package-name">Starter Pack</div>
                    <div class="package-duration">7 DAYS ACCESS</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> 10GB High-Speed Data</div>
                        <div class="feature"><i class="fas fa-globe"></i> Global Coverage</div>
                        <div class="feature"><i class="fas fa-satellite"></i> 24/7 Support</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 150 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 85<span>/week</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(85, 'Starter Pack (7 Days - 10GB)')">
                        <i class="fas fa-rocket"></i> SELECT PLAN
                    </button>
                </div>

                <div class="package-card popular">
                    <div class="package-icon">üöÄ</div>
                    <div class="package-name">Premium Pack</div>
                    <div class="package-duration">21 DAYS ACCESS</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> 30GB High-Speed Data</div>
                        <div class="feature"><i class="fas fa-globe"></i> Priority Access</div>
                        <div class="feature"><i class="fas fa-shield-alt"></i> Enhanced Security</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 200 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 155<span>/3 weeks</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(155, 'Premium Pack (21 Days - 30GB)')">
                        <i class="fas fa-crown"></i> SELECT POPULAR
                    </button>
                </div>

                <div class="package-card">
                    <div class="package-icon">üåå</div>
                    <div class="package-name">Unlimited Pack</div>
                    <div class="package-duration">31 DAYS ACCESS</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-infinity"></i> Unlimited Data</div>
                        <div class="feature"><i class="fas fa-globe"></i> Global Roaming</div>
                        <div class="feature"><i class="fas fa-headset"></i> Priority Support</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 300 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 225<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(225, 'Unlimited Pack (31 Days - Unlimited)')">
                        <i class="fas fa-infinity"></i> GO UNLIMITED
                    </button>
                </div>

                <!-- 3 New Packages -->
                <div class="package-card">
                    <div class="package-icon">‚ö°</div>
                    <div class="package-name">Express Pack</div>
                    <div class="package-duration">3 DAYS ACCESS</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> 5GB High-Speed Data</div>
                        <div class="feature"><i class="fas fa-clock"></i> Instant Activation</div>
                        <div class="feature"><i class="fas fa-mobile-alt"></i> Mobile Hotspot</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 100 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 75<span>/3 days</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(75, 'Express Pack (3 Days - 5GB)')">
                        <i class="fas fa-bolt"></i> SELECT PLAN
                    </button>
                </div>

                <div class="package-card">
                    <div class="package-icon">üèÜ</div>
                    <div class="package-name">Elite Pack</div>
                    <div class="package-duration">14 DAYS ACCESS</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> 20GB High-Speed Data</div>
                        <div class="feature"><i class="fas fa-gamepad"></i> Gaming Optimized</div>
                        <div class="feature"><i class="fas fa-video"></i> 4K Streaming</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 250 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 120<span>/2 weeks</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(120, 'Elite Pack (14 Days - 20GB)')">
                        <i class="fas fa-trophy"></i> SELECT ELITE
                    </button>
                </div>

                <div class="package-card">
                    <div class="package-icon">üíº</div>
                    <div class="package-name">Family Pack</div>
                    <div class="package-duration">30 DAYS ACCESS</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> 50GB High-Speed Data</div>
                        <div class="feature"><i class="fas fa-users"></i> 5 Devices Simultaneous</div>
                        <div class="feature"><i class="fas fa-home"></i> Home & Office Use</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 200 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 190<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(190, 'Family Pack (30 Days - 50GB)')">
                        <i class="fas fa-home"></i> FOR FAMILY
                    </button>
                </div>
            </div>

            <!-- Monthly Plans (Updated Prices: 800-1500) -->
            <div class="packages-grid" id="monthly-packages" style="display: none;">
                <div class="package-card">
                    <div class="package-icon">üåô</div>
                    <div class="package-name">Basic Monthly</div>
                    <div class="package-duration">MONTHLY</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> Unlimited High-Speed Data</div>
                        <div class="feature"><i class="fas fa-users"></i> 3 Devices Support</div>
                        <div class="feature"><i class="fas fa-video"></i> HD Streaming</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 130 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 300<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(300, 'Basic Monthly Plan (50GB)')">
                        <i class="fas fa-rocket"></i> SELECT PLAN
                    </button>
                </div>

                <div class="package-card popular">
                    <div class="package-icon">‚òÄÔ∏è</div>
                    <div class="package-name">Standard Monthly</div>
                    <div class="package-duration">MONTHLY</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> Unlimited High-Speed Data</div>
                        <div class="feature"><i class="fas fa-users"></i> 5 Devices Support</div>
                        <div class="feature"><i class="fas fa-video"></i> 4K Streaming</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 200 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 450<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(450, 'Standard Monthly Plan (100GB)')">
                        <i class="fas fa-crown"></i> SELECT POPULAR
                    </button>
                </div>

                <div class="package-card">
                    <div class="package-icon">üè†</div>
                    <div class="package-name">Premium Monthly</div>
                    <div class="package-duration">MONTHLY</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-infinity"></i> Unlimited Data</div>
                        <div class="feature"><i class="fas fa-users"></i> 8 Devices Support</div>
                        <div class="feature"><i class="fas fa-gamepad"></i> Gaming Priority</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 300 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 550<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(550, 'Premium Monthly Plan (Unlimited)')">
                        <i class="fas fa-star"></i> GO PREMIUM
                    </button>
                </div>
            </div>

            <!-- Business Plans (Updated Prices: 1500-5000) -->
            <div class="packages-grid" id="business-packages" style="display: none;">
                <div class="package-card">
                    <div class="package-icon">üè¢</div>
                    <div class="package-name">Small Business</div>
                    <div class="package-duration">MONTHLY</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> Unlimited Data</div>
                        <div class="feature"><i class="fas fa-users"></i> 10 Devices</div>
                        <div class="feature"><i class="fas fa-headset"></i> Business Support</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 250 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 650<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(650, 'Small Business Plan (150GB)')">
                        <i class="fas fa-briefcase"></i> FOR SMALL BUSINESS
                    </button>
                </div>

                <div class="package-card popular">
                    <div class="package-icon">üè≠</div>
                    <div class="package-name">Medium Business</div>
                    <div class="package-duration">MONTHLY</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-bolt"></i> 300GB Data</div>
                        <div class="feature"><i class="fas fa-users"></i> 20 Devices</div>
                        <div class="feature"><i class="fas fa-shield-alt"></i> Advanced Security</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 500 Mbps</div>
                    </div>
                    <div class="package-price">Ksh 750<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(750, 'Medium Business Plan (300GB)')">
                        <i class="fas fa-crown"></i> SELECT POPULAR
                    </button>
                </div>

                <div class="package-card">
                    <div class="package-icon">üåç</div>
                    <div class="package-name">Enterprise Business</div>
                    <div class="package-duration">MONTHLY</div>
                    <div class="package-features">
                        <div class="feature"><i class="fas fa-infinity"></i> Unlimited Data</div>
                        <div class="feature"><i class="fas fa-server"></i> 30+ Devices</div>
                        <div class="feature"><i class="fas fa-headset"></i> 24/7 Dedicated Support</div>
                        <div class="feature"><i class="fas fa-wifi"></i> Up to 1 Gbps</div>
                    </div>
                    <div class="package-price">Ksh 800<span>/month</span></div>
                    <button class="select-btn" onclick="initiateNestlinkPayment(800, 'Enterprise Business Plan (Unlimited)')">
                        <i class="fas fa-globe-americas"></i> ENTERPRISE PLAN
                    </button>
                </div>
            </div>
        </div>

        <span class="read-more" id="readMore" onclick="toggleDescription()">
            <i class="fas fa-chevron-down"></i>
            <span>Read More About Starlink Services</span>
        </span>

        <div class="description" id="description">
            <strong>üöÄ Next-Generation Satellite Internet in Kenya</strong>
            <p>Starlink provides high-speed, low-latency broadband internet across Kenya. Powered by SpaceX's advanced satellite constellation in low Earth orbit, Starlink enables video calls, online gaming, streaming, and other high data rate activities that are not possible with traditional satellite internet.</p>
            
            <strong>üì° Key Features:</strong>
            <p>‚Ä¢ <strong>High Speed:</strong> Download speeds from 100 Mbps to 300 Mbps<br>
               ‚Ä¢ <strong>Low Latency:</strong> As low as 20ms for real-time applications<br>
               ‚Ä¢ <strong>Global Coverage:</strong> Seamless connectivity anywhere in Kenya<br>
               ‚Ä¢ <strong>Easy Setup:</strong> Plug-and-play installation in minutes<br>
               ‚Ä¢ <strong>Weather Resistant:</strong> Designed to withstand harsh weather conditions<br>
               ‚Ä¢ <strong>No Contracts:</strong> Month-to-month service, cancel anytime</p>
            
            <strong>üéØ Ideal For:</strong>
            <p>‚Ä¢ Remote areas without traditional broadband<br>
               ‚Ä¢ Rural businesses and farms<br>
               ‚Ä¢ Digital nomads and travelers<br>
               ‚Ä¢ Emergency services and NGOs<br>
               ‚Ä¢ Gaming and streaming enthusiasts<br>
               ‚Ä¢ Online education and telemedicine</p>
        </div>

        <!-- Payment Status -->
        <div id="payment-status">
            <div id="success-tick">
                <i class="fas fa-check-circle"></i>
            </div>
            <p id="status-message"></p>
            <p id="instruction-message"></p>
            <button id="ok-button" onclick="closeMessage()">
                <i class="fas fa-check"></i> Confirm & Continue
            </button>
        </div>
    </div>

    <div class="footer">
        <p>Need assistance? Our support team is here to help:</p>
        <p>
            <a href="mailto:starrlinkhelp@gmail.com">
                <i class="fas fa-envelope"></i> starrlinkhelp@gmail.com
            </a>
            <span style="margin: 0 10px;">‚Ä¢</span>
            <a href="tel:+254700000000">
                <i class="fas fa-phone"></i> +254 700 000 000
            </a>
        </p>
        <div class="security-badge">
            <i class="fas fa-shield-alt" style="color: #3ecf8e;"></i>
            <span>Secure payment ‚Ä¢ 256-bit SSL Encryption ‚Ä¢ Powered by SpaceX Starlink & Nestlink</span>
        </div>
        <p style="margin-top: 15px; font-size: 12px; color: #64748b;">
            ¬© 2024 Starlink Kenya. All rights reserved. Starlink is a registered trademark of SpaceX.
        </p>
    </div>

    <!-- PWA Install Prompt -->
    <div id="pwaInstallPrompt" class="pwa-install-prompt">
        <button class="pwa-prompt-close" onclick="dismissPWAInstallPrompt()">&times;</button>
        <div class="pwa-prompt-content">
            <div class="pwa-prompt-icon">
                <i class="fas fa-satellite"></i>
            </div>
            <div class="pwa-prompt-text">
                <h3>Install Starlink Kenya</h3>
                <p>Get quick access to satellite internet payments on your home screen</p>
            </div>
        </div>
        <div class="pwa-prompt-buttons">
            <button class="pwa-cancel-btn" onclick="dismissPWAInstallPrompt()">
                Not Now
            </button>
            <button class="pwa-install-btn" onclick="installPWA()">
                Install App
            </button>
        </div>
    </div>

    <script>
        // ========================================
        // Package Functions
        // ========================================
        function showPackages(category) {
            // Update toggle buttons
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Find the clicked button and activate it
            const buttons = document.querySelectorAll('.toggle-btn');
            buttons.forEach(btn => {
                if (btn.textContent.includes(category.charAt(0).toUpperCase() + category.slice(1))) {
                    btn.classList.add('active');
                }
            });
            
            // Show selected category
            document.getElementById('data-packages').style.display = 'none';
            document.getElementById('monthly-packages').style.display = 'none';
            document.getElementById('business-packages').style.display = 'none';
            
            document.getElementById(`${category}-packages`).style.display = 'grid';
        }

        // ========================================
        // Nestlink Payment Functions
        // ========================================
        function initiateNestlinkPayment(amount, packageName) {
            // Check if offline
            if (!navigator.onLine) {
                showOfflineMessage();
                return;
            }
            
            let phone = prompt(`Enter your phone number for ${packageName}:`);

            if (!phone || phone.length < 10) {
                alert("Please enter a valid phone number (e.g., 0712345678 or 254712345678)");
                return;
            }

            // Show loading state
            const originalButton = event.target;
            const originalText = originalButton.innerHTML;
            originalButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            originalButton.disabled = true;

            // Call Nestlink endpoint
            fetch('/nestlink/payment/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'X-CSRFToken': getCSRFToken()
                },
                body: JSON.stringify({ 
                    phone_number: phone, 
                    amount: amount,
                    package_name: packageName 
                })
            })
            .then(response => response.json())
            .then(data => {
                originalButton.innerHTML = originalText;
                originalButton.disabled = false;
                
                if (data.status === "success") {
                    // Show success message
                    document.getElementById("payment-status").style.display = "block";
                    document.getElementById("success-tick").style.display = "block";
                    document.getElementById("status-message").innerText = "Payment Initiated!";
                    document.getElementById("instruction-message").innerText = 
                        `Payment request sent to ${phone} for ${packageName}. 
                        Please complete the payment of Ksh ${amount} via Nestlink.`;
                    
                    // Store in sessionStorage for pending page
                    sessionStorage.setItem('checkout_request_id', data.checkout_request_id || '');
                    sessionStorage.setItem('merchant_request_id', data.merchant_request_id || '');
                    // Auto-redirect after 3 seconds
                    setTimeout(() => {
                        if (data.redirect_url) {
                            window.location.href = data.redirect_url;
                        } else {
                            // Create redirect URL with parameters
                            const redirectUrl = `/payment/pending/?phone=${encodeURIComponent(phone)}&amount=${amount}&package=${encodeURIComponent(packageName)}&transaction_ref=${data.transaction_reference || ''}`;
                            window.location.href = redirectUrl;
                        }
                    }, 3000);
                    
                } else {
                    alert("‚ùå Payment Initiation Failed: " + data.message);
                }
            })
            .catch(error => {
                originalButton.innerHTML = originalText;
                originalButton.disabled = false;
                alert("‚ö† Network Error: Please check your internet connection and try again.");
                console.error('Payment error:', error);
            });
        }

        // ========================================
        // Helper Functions
        // ========================================
        function getCSRFToken() {
            let cookieValue = null;
            let cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                let cookie = cookies[i].trim();
                if (cookie.startsWith('csrftoken=')) {
                    cookieValue = cookie.substring('csrftoken='.length, cookie.length);
                    break;
                }
            }
            return cookieValue;
        }

        function showOfflineMessage() {
            document.getElementById("payment-status").style.display = "block";
            document.getElementById("success-tick").innerHTML = '<i class="fas fa-wifi-slash"></i>';
            document.getElementById("status-message").innerText = "You're Offline";
            document.getElementById("instruction-message").innerText = 
                "Internet connection required for payments. Please check your connection and try again.";
            document.getElementById("ok-button").innerHTML = '<i class="fas fa-redo"></i> Try Again';
            document.getElementById("ok-button").onclick = function() {
                if (navigator.onLine) {
                    window.location.reload();
                } else {
                    document.getElementById("payment-status").style.display = "none";
                }
            };
            document.getElementById("ok-button").style.display = "inline-block";
        }

        function toggleDescription() {
            let box = document.getElementById("description");
            let text = document.getElementById("readMore");

            if (box.style.display === "none" || !box.style.display) {
                box.style.display = "block";
                text.innerHTML = '<i class="fas fa-chevron-up"></i><span>Read Less</span>';
                // Smooth scroll to description
                box.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            } else {
                box.style.display = "none";
                text.innerHTML = '<i class="fas fa-chevron-down"></i><span>Read More</span>';
            }
        }

        function closeMessage() {
            document.getElementById("payment-status").style.display = "none";
            // Get phone and package from sessionStorage for redirect
            const phone = sessionStorage.getItem('payment_phone') || '';
            const amount = sessionStorage.getItem('payment_amount') || '';
            const packageName = sessionStorage.getItem('payment_package') || '';
            
            if (phone && amount) {
                const redirectUrl = `/payment/pending/?phone=${encodeURIComponent(phone)}&amount=${amount}&package=${encodeURIComponent(packageName)}`;
                window.location.href = redirectUrl;
            } else {
                window.location.href = "/payment/pending/";
            }
        }

        // ========================================
        // PWA Functions
        // ========================================
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/serviceworker.js')
                    .then(function(registration) {
                        console.log('‚úÖ ServiceWorker registration successful with scope:', registration.scope);
                        
                        // Check for updates
                        registration.onupdatefound = function() {
                            const installingWorker = registration.installing;
                            installingWorker.onstatechange = function() {
                                if (installingWorker.state === 'installed') {
                                    if (navigator.serviceWorker.controller) {
                                        // New update available
                                        console.log('üîÑ New content is available; please refresh.');
                                        showUpdateNotification();
                                    } else {
                                        // Content is cached for offline use
                                        console.log('üì± Content is cached for offline use.');
                                    }
                                }
                            };
                        };
                    })
                    .catch(function(error) {
                        console.log('‚ùå ServiceWorker registration failed:', error);
                    });
            });
        }

        // Install Prompt Logic
        let deferredPrompt;
        const pwaInstallPrompt = document.getElementById('pwaInstallPrompt');

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            setTimeout(() => {
                const promptDismissed = localStorage.getItem('pwaPromptDismissed');
                const isInstalled = localStorage.getItem('pwaInstalled');
                
                if (!promptDismissed && !isInstalled && !window.matchMedia('(display-mode: standalone)').matches) {
                    pwaInstallPrompt.classList.add('show');
                }
            }, 3000);
        });

        function installPWA() {
            if (!deferredPrompt) {
                alert('Your browser does not support installing apps. Try using Chrome or Edge.');
                return;
            }
            
            deferredPrompt.prompt();
            
            deferredPrompt.userChoice.then((choiceResult) => {
                if (choiceResult.outcome === 'accepted') {
                    console.log('‚úÖ User accepted the install prompt');
                    localStorage.setItem('pwaInstalled', 'true');
                    showInstallSuccess();
                } else {
                    console.log('‚ùå User dismissed the install prompt');
                }
                deferredPrompt = null;
                pwaInstallPrompt.classList.remove('show');
            });
        }

        function dismissPWAInstallPrompt() {
            pwaInstallPrompt.classList.remove('show');
            localStorage.setItem('pwaPromptDismissed', 'true');
            
            setTimeout(() => {
                localStorage.removeItem('pwaPromptDismissed');
            }, 30 * 24 * 60 * 60 * 1000);
        }

        function showInstallSuccess() {
            document.getElementById("payment-status").style.display = "block";
            document.getElementById("success-tick").innerHTML = '<i class="fas fa-download"></i>';
            document.getElementById("status-message").innerText = "App Installed!";
            document.getElementById("instruction-message").innerText = 
                "Starlink Kenya has been installed successfully! You can now access it from your home screen.";
            document.getElementById("ok-button").innerHTML = '<i class="fas fa-check"></i> Continue to Payment';
            document.getElementById("ok-button").onclick = function() {
                document.getElementById("payment-status").style.display = "none";
            };
            
            setTimeout(() => {
                document.getElementById("payment-status").style.display = "none";
            }, 5000);
        }

        function showUpdateNotification() {
            const updateNotification = document.createElement('div');
            updateNotification.innerHTML = `
                <div class="pwa-install-prompt show" id="updateNotification">
                    <button class="pwa-prompt-close" onclick="this.parentElement.classList.remove('show')">&times;</button>
                    <div class="pwa-prompt-content">
                        <div class="pwa-prompt-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                            <i class="fas fa-sync-alt"></i>
                        </div>
                        <div class="pwa-prompt-text">
                            <h3>Update Available</h3>
                            <p>A new version of Starlink Kenya is available</p>
                        </div>
                    </div>
                    <div class="pwa-prompt-buttons">
                        <button class="pwa-cancel-btn" onclick="this.parentElement.parentElement.classList.remove('show')">
                            Later
                        </button>
                        <button class="pwa-install-btn" onclick="window.location.reload()" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                            Update Now
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(updateNotification.firstElementChild);
        }

        // ========================================
        // UI Effects
        // ========================================
        document.addEventListener('DOMContentLoaded', function() {
            // Package card hover effects
            const cards = document.querySelectorAll('.package-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-8px)';
                });
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Toggle button hover effects
            const toggleButtons = document.querySelectorAll('.toggle-btn');
            toggleButtons.forEach(btn => {
                btn.addEventListener('mouseenter', function() {
                    if (!this.classList.contains('active')) {
                        this.style.backgroundColor = 'rgba(62, 207, 142, 0.1)';
                    }
                });
                btn.addEventListener('mouseleave', function() {
                    if (!this.classList.contains('active')) {
                        this.style.backgroundColor = 'transparent';
                    }
                });
            });

            // Read more button hover effect
            const readMoreBtn = document.getElementById('readMore');
            if (readMoreBtn) {
                readMoreBtn.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                });
                readMoreBtn.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            }

            // Online/Offline events
            window.addEventListener('online', () => {
                console.log('‚úÖ You are online');
            });

            window.addEventListener('offline', () => {
                console.log('‚ö†Ô∏è You are offline');
            });
            
            // Update payment buttons for offline detection
            setTimeout(() => {
                const paymentButtons = document.querySelectorAll('.select-btn');
                paymentButtons.forEach(button => {
                    const originalOnClick = button.getAttribute('onclick');
                    if (originalOnClick && originalOnClick.includes('initiateNestlinkPayment')) {
                        const match = originalOnClick.match(/initiateNestlinkPayment\((\d+),\s*'([^']+)'\)/);
                        if (match) {
                            const amount = match[1];
                            const packageName = match[2];
                            button.removeAttribute('onclick');
                            button.addEventListener('click', (event) => {
                                if (!navigator.onLine) {
                                    showOfflineMessage();
                                } else {
                                    initiateNestlinkPayment(amount, packageName);
                                }
                            });
                        }
                    }
                });
            }, 1000);
        });
    </script>
    
</body>
</html>